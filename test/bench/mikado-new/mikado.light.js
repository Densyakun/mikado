/**!
 * Mikado.js v0.7.64 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var q;var w={},z={},A={},B={},C={};function D(a,b,c){if(!(this instanceof D))return new D(a,b,c);a.nodeType||(c=b,b=a,a=null);a?this.mount(a):(this.b=this.f=null,this.length=0);this.init(b,c)}var E=D.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return D};D.prototype.mount=function(a){if(this.b!==a){this.key&&this.b&&(this.b._o=this.l,this.l=a._o||{});this.b=a;F(this);var b;if(!(b=a._d)){b=a.children;for(var c=b.length,d=Array(c),e=0,f;e<c;e++)f=b[e],d[e]=f;b=a._d=d}this.f=b;this.length=this.f.length}return this};
D.prototype.index=function(a){return this.f.indexOf(a)};D.prototype.node=function(a){return this.f[a]};
D.prototype.init=function(a,b){"string"===typeof a?a=z[a]:(b||!a||a.n||(b=a,a=null),a?a.n&&E(a):a=z[this.u]);b||(b=this.D||{});this.C=!1!==b.reuse;this.state=b.state||w;this.cache=!1!==b.cache;this.D=b;var c=a.n;this.u!==c&&(this.u=c,this.m=a.d,this.A=this.g=null,this.B=!1!==b.prefetch&&G(this,a),F(this),this.l=(this.key=a.k)&&{},a=b.pool,this.v=this.C&&!1!==a&&"key"!==a&&(B[c]||(B[c]=[])),this.o=this.key&&!1!==a&&"queue"!==a&&(C[c]||(C[c]={})),this.size=this.v&&b.size);return this};
D.once=function(a,b,c,d,e){var f=new D(a,b);"function"===typeof d&&(e=d,d=null);if(e){var g=e;e=function(){f.destroy(1);g()}}f.render(c,d,e);e||f.destroy(1);return D};function F(a){if(a.b){var b=a.b._t;b!==a.u&&(a.b._t=a.u,b&&(a.l={},a.remove(0,a.length)))}}q=D.prototype;
q.create=function(a,b,c){var d=this.key,e=d&&a[d],f,g,l;if(d&&(g=this.o)&&(f=g[e]))if(g){if(g[e]=null,g=this.v){var h=f._n;f._n=null;var p=g.pop();p!==f&&(p._n=h,g[h]=p)}}else d=0;else(f=this.v)&&f.length?(f=f.pop(),g&&(f._n=null,g[f._k]=null)):f=l=this.B||(this.B=G(this,z[this.u]));this.apply(f,a,b,c);l&&(f=f.cloneNode(!0));d&&(f._k=e,this.l[e]=f);return f};q.apply=function(a,b,c,d){if(!this.m)return this.A(a._p||H(this,a),a.$||(a.$={}),b,d,c),this};
q.render=function(a,b){var c=this.length;if(!a&&this.m)return this.f[0]||this.add(),this;var d=a.length;if("undefined"===typeof d)a=[a],d=1;else if(!d)return this.remove(0,c);var e=(this.o||!this.C)&&this.key;e||this.C||(this.remove(0,c,d),c=0);var f=c<d?c:d,g=0;if(g<f)for(;g<f;g++){var l=this.f[g],h=a[g];if(e&&l._k!==h[e])return this.reconcile(a,b,g,1);this.update(l,h,b,g)}if(g<d)for(;g<d;g++)this.add(a[g],b);else d<c&&this.remove(d,c-d);return this};
q.reconcile=function(a,b,c,d){var e=this.f,f=this.l,g=a.length,l=e.length,h=l>g?l:g,p=0,x=this.key;for(c||(c=0);c<h;c++){var n=void 0;if(c<g){var m=a[c],k=c>=l,r=void 0,v=void 0,y=void 0;if(!k&&(r=e[c],v=m[x],y=r._k,y===v)){d&&this.update(r,m,b,c);continue}if(k||!f[v]){d&&(k||!this.o?(l++,h=l>g?l:g,this.add(m,b,c)):this.replace(r,m,b,c));continue}for(var u=k=void 0,t=c+1;t<h;t++)if(!k&&t<l&&e[t]._k===v&&(k=t+1),!u&&t<g&&a[t][x]===y&&(u=t+1),k&&u){k>=u?(n=e[k-1],this.b.insertBefore(n,r),d&&this.update(n,
m,b,c),k===u?(1<t-c&&this.b.insertBefore(r,e[k]),e[c]=e[t],e[t]=r):(I(e,k-1,c),p++)):(m=u-1+p,this.b.insertBefore(r,e[m]||null),I(e,c,(m>l?l:m)-1),p--,c--);n=1;break}}n||(this.remove(c),l--,h=l>g?l:g,c--)}return this};function I(a,b,c,d){var e=d||a[b];d&&b++;if(b<c)for(;b<c;b++)a[b]=a[b+1];else for(;b>c;b--)a[b]=a[b-1];a[c]=e}
q.add=function(a,b,c,d){if(!d)if("number"===typeof b){c=b;b=null;var e=1}else if(c||0===c)e=1;c=d||e?c:this.length;a=this.create(a,b,c);e?(this.b.insertBefore(a,this.f[c]),I(this.f,this.length-1,c,a),this.length++):(d?this.b.replaceChild(a,d):(this.b.appendChild(a),this.length++),this.f[c]=a);return this};q.clear=function(){this.length&&this.remove(0,this.length);return this};q.destroy=function(a){a&&this.unload();this.length=0;this.l=this.f=this.b=this.u=this.g=this.A=this.B=null};
q.append=function(a,b,c){if("number"===typeof b){c=b;b=null;var d=1}else d=c||0===c;for(var e=a.length,f=0;f<e;f++)this.add(a[f],b,d?c++:null);return this};
q.remove=function(a,b,c){var d=this.length;a&&("object"===typeof a?a=this.index(a):0>a&&(a=d+a-1));if(!d||a>=d)return this;b?0>b&&(a-=b+1,0>a&&(a=0),b*=-1):b=1;!a&&b>=d?(a=this.f,b=a.length,this.b.textContent="",this.b._d=this.f=c?Array(c):[],d=0):(a=this.f.splice(a,b),d-=b);this.length=d;if(this.v&&!this.o&&1<b){c=a;for(var e=c.length,f=e/2|0,g=0,l;g<f;g++)l=c[g],c[g]=c[e-g-1],c[e-g-1]=l}for(c=0;c<b;c++)e=a[c],d&&this.b.removeChild(e),J(this,e);return this};
function J(a,b){if(a.key){var c=b._k;a.l[c]=null;a.o&&(a.o[c]=b)}a.v&&(c=a.v.length,!a.size||c<a.size)&&(a.o&&(b._n=c),a.v[c]=b)}q.replace=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.f[d]):d=this.index(a));var e;if(this.key&&(e=this.l[b[this.key]]))return this.apply(a,b,c,d),e!==a&&(b=this.index(e),this.f[d]=e,this.f[b]=a,b<d&&(d=a,a=e,e=d),d=a.nextElementSibling,this.b.insertBefore(a,e),d!==e&&this.b.insertBefore(e,d)),this;this.add(b,c,d,a);J(this,a);return this};
q.update=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.f[a]):d=this.index(a));if(this.key){var e=a._k,f=b[this.key];e!==f&&(this.l[e]=null,this.l[f]=a,a._k=f)}return this.apply(a,b,c,d)};
function H(a,b){for(var c=a.g.length,d={},e=Array(c),f=0,g;f<c;f++){g=a.g[f];var l=f,h;if(!(h=d[g])){h=b;for(var p=0,x=g.length,n="";p<x;p++){var m=g[p];n+=m;d[n]?h=d[n]:(">"===m?h=h.firstElementChild:"+"===m?h=h.nextElementSibling:"|"===m&&(h=h.firstChild),d[n]=h)}}e[l]=h}return b._p=e}var K;
function G(a,b,c,d,e){if(!c){var f=A[b.n+(a.cache?"$":"")];if(f)return a.A=f.A,a.m=f.m,a.g=f.g,f.node}f=document.createElement(b.t||"div");c||(c=0,d="&",K="",a.g=[],f._p=e=[],a.cache&&(f.$={}));var g=b.s,l=b.i,h=b.x,p=b.h,x=b.a,n=b.c,m=b.j,k=a.g.length,r=0,v="";m&&(v+=";"+m,-1<v.indexOf("self")&&(r=2));n&&("object"===typeof n?(n=""+n[0],v+=a.cache?";v="+n+";if(s._c"+k+"!==v){s._c"+k+"=v;self.className=v}":n?";self.className="+n:"",r++):f.className=n);if(x){var y;x&&(y=Object.keys(x));for(n=0;n<y.length;n++){m=
y[n];var u=void 0;!x||(u=x[m]);"object"===typeof u?(u=""+u[0],v+=a.cache?";v="+u+";if(s['_a_"+m+k+"']!==v){s['_a_"+m+k+"']=v;self[v||v===0?'setAttribute':'removeAttribute']('"+m+"',v)}":u?";v="+u+";self[v||v===0?'setAttribute':'removeAttribute']('"+m+"',v)":"",r++):f.setAttribute(m,u)}}g&&("string"===typeof g?f.style.cssText=g:g.length&&(g=g[0],v+=a.cache?";v="+g+";if(s._cs"+k+"!==v){s._cs"+k+"=v;(self._s||(self._s=self.style)).cssText=v}":g?";self.style.cssText="+g:"",r++));if(!l)if(h){if(y="object"===
typeof h){var t=!1;h=""+h[0]}g=document.createTextNode(h);y&&(r&&k++,a.g[k]=d+"|",e[k]=g,L(r,a.cache&&!t?";v="+h+";if(s._x"+k+"!==v){s._x"+k+"=v;self.nodeValue=v}":h?";self.nodeValue="+h:"",k),r&&k--);f.appendChild(g)}else p&&("object"===typeof p?(p=""+p[0],v+=a.cache?";v="+p+";if(s._h"+k+"!==v){s._h"+k+"=v;self.innerHTML=v}":p?";self.innerHTML="+p:"",r++):f.innerHTML=p);r?(a.g[k]=d,e[k]=f,a.m=0,L(r,v,k)):v&&(K+=v);if(l)if(l.length)for(t=">",h=0;h<l.length;h++)h&&(t+="+"),k=l[h],f.appendChild(G(a,
k,c+h+1,d+t,e));else f.appendChild(G(a,l,c+1,d+">",e));c||(!a.m&&K&&(a.A=Function("p","s","data","index","view",'"use strict";var self,v'+K)),A[b.n+(a.cache?"$":"")]={A:a.A,m:a.m,g:a.g,node:f});return f}function L(a,b,c){K=1<a?K+(";self=p["+c+"]"+b):K+b.replace(/self/g,"p["+c+"]")}D.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.u;a&&(z[a]=null,B[a]=C[a]=A[a]=null,A[a+"$"]=null);return this};D.unregister=D.unload=D.prototype.unload;var M=window,N;(N=M.define)&&N.amd?N([],function(){return D}):"object"===typeof M.exports?M.module.exports=D:M.Mikado=D;}).call(this);
